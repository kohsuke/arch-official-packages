# $Id$
# Maintainer: Eric Belanger <eric@archlinux.org>
# Contributor: Aurelien Foret <orelien@chez.com>

pkgname=ddd
pkgver=3.3.11
pkgrel=5
pkgdesc="A graphical front-end for command-line debuggers such as GDB, JDB, pydb, perl debugger..."
arch=('i686' 'x86_64')
url="http://www.gnu.org/software/ddd/"
license=('GPL' 'LGPL')
depends=('gcc-libs' 'ncurses' 'lesstif' 'libxaw>=1.0.5' 'libelf' 'libxext')
optdepends=('gdb: to use the Gnu debugger' 'jdk: to use the Java debugger' 'pydb: to use the Python debugger' 'perl: to use the Perl debugger')
install=$pkgname.install
source=(http://ftp.gnu.org/gnu/ddd/${pkgname}-${pkgver}.tar.gz)
md5sums=('f19437ebfdb5f2667d6de30f700dd319')
sha1sums=('c302c37bdcccaad22e235177f5962dec424b1de3')

build() {
  cd ${srcdir}/${pkgname}-${pkgver}
  ./configure --prefix=/usr --mandir=/usr/share/man --infodir=/usr/share/info || return 1
  make || return 1
  make DESTDIR=${pkgdir} install || return 1
  rm ${pkgdir}/usr/share/info/dir || return 1
  gzip ${pkgdir}/usr/share/info/* || return 1
}
