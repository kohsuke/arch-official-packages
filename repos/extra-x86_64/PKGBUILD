# $Id$
# Maintainer: Vesa Kaihlavirta <vesa@archlinux.org>
pkgname=ghc
pkgver=6.10.1
pkgrel=1
pkgdesc="A state-of-the-art, open source, compiler and interactive environment for Haskell."
arch=(i686 x86_64)
url="http://www.haskell.org/ghc/"
license=("custom")
depends=(gmp libedit)
makedepends=(ghc happy perl)
source=("http://www.haskell.org/ghc/dist/stable/dist/$pkgname-$pkgver-src.tar.bz2" \
    "http://www.haskell.org/ghc/dist/stable/dist/$pkgname-$pkgver-src-extralibs.tar.bz2"
     build.mk)

md5sums=('54c676a632b3d73cf526b06347522c32'
         '4ff4590f1002ae1ff608874da8643c67'
         'a05681b982aad44cc6770bd021e35b67')

build() {
  cd $startdir/src/$pkgname-$pkgver

  cp $startdir/build.mk mk/build.mk

  ./configure --prefix=/usr 
  make -j2 || return 1
  make DESTDIR=$startdir/pkg install

  install -Dm644 LICENSE ${pkgdir}/usr/share/licenses/ghc/license
}
