--- trunk/extragear/multimedia/amarok/src/services/lastfm/LastFmService.cpp     2009/04/03 17:16:06     948750
+++ trunk/extragear/multimedia/amarok/src/services/lastfm/LastFmService.cpp     2009/04/05 10:58:40     949421
@@ -220,7 +220,6 @@
     debug() << "username:" << QString( QUrl::toPercentEncoding( Ws::Username ) );
 
     QString authToken =  md5( ( m_userName + md5( password.toUtf8() ) ).toUtf8() );
-    QString sign_key = md5( ( "api_key" + QString( Ws::ApiKey ) + "authToken" + authToken + "methodauth.getMobileSession" + QString( Ws::SharedSecret ) ).toUtf8() );
     
     // now authenticate w/ last.fm and get our session key
     WsReply* reply = WsRequestBuilder( "auth.getMobileSession" )
@@ -230,7 +229,6 @@
     .add( "username", m_userName )
     .add( "authToken", authToken )
     .add( "api_key", Ws::ApiKey )
-    .add( "api_sig", sign_key )
     .get();
 
     connect( reply, SIGNAL( finished( WsReply* ) ), SLOT( onAuthenticated( WsReply* ) ) );
--- trunk/extragear/multimedia/amarok/src/services/lastfm/LastFmServiceSettings.cpp     2009/02/07 11:42:55     922607
+++ trunk/extragear/multimedia/amarok/src/services/lastfm/LastFmServiceSettings.cpp     2009/04/05 10:58:40     949421
@@ -99,14 +99,12 @@
     debug() << "username:" << QString( QUrl::toPercentEncoding( Ws::Username ) );
 
     QString authToken =  md5( ( m_configDialog->kcfg_ScrobblerUsername->text() + md5( m_configDialog->kcfg_ScrobblerPassword->text().toUtf8() ) ).toUtf8() );
-    QString sign_key = md5( ( "api_key" + QString( Ws::ApiKey ) + "authToken" + authToken + "methodauth.getMobileSession" + QString( Ws::SharedSecret ) ).toUtf8() );
     
     // now authenticate w/ last.fm and get our session key
     WsReply* reply = WsRequestBuilder( "auth.getMobileSession" )
     .add( "username", m_configDialog->kcfg_ScrobblerUsername->text() )
     .add( "authToken", authToken )
     .add( "api_key", Ws::ApiKey )
-    .add( "api_sig", sign_key )
     .get();
     
     connect( reply, SIGNAL( finished( WsReply* ) ), SLOT( onAuthenticated( WsReply* ) ) );
 
