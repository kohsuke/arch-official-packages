diff -ur xfig.3.2.5/e_chop.c xfig.3.2.5.new/e_chop.c
--- xfig.3.2.5/e_chop.c	2005-07-26 18:56:28.000000000 +0200
+++ xfig.3.2.5.new/e_chop.c	2008-04-03 18:58:07.000000000 +0200
@@ -20,6 +20,7 @@
 
 #include <stdlib.h>
 #include <alloca.h>
+#include <math.h>
 #include "fig.h"
 #include "resources.h"
 #include "mode.h"
@@ -29,6 +30,9 @@
 #include "u_list.h"
 #include "u_search.h"
 #include "u_undo.h"
+#include "u_markers.h"
+#include "u_geom.h"
+#include "u_redraw.h"
 #include "w_canvas.h"
 #include "w_drawprim.h"
 #include "w_mousefun.h"
@@ -37,6 +41,8 @@
 #include "w_zoom.h"
 #include "w_snap.h"
 #include "w_intersect.h"
+#include "w_cursor.h"
+#include "f_util.h"
 
 static void select_axe_object();
 static void select_log_object();
diff -ur xfig.3.2.5/main.c xfig.3.2.5.new/main.c
--- xfig.3.2.5/main.c	2008-04-03 19:28:25.000000000 +0200
+++ xfig.3.2.5.new/main.c	2008-04-03 19:26:36.000000000 +0200
@@ -68,6 +68,8 @@
 #include <X11/keysym.h>
 #endif  /* I18N */
 
+#include <X11/IntrinsicP.h>
+
 /* EXPORTS */
 
 Boolean	    geomspec;
diff -ur xfig.3.2.5/w_intersect.c xfig.3.2.5.new/w_intersect.c
--- xfig.3.2.5/w_intersect.c	2004-09-29 23:46:00.000000000 +0200
+++ xfig.3.2.5.new/w_intersect.c	2008-04-03 19:25:08.000000000 +0200
@@ -23,6 +23,8 @@
 #include "mode.h"
 #include "w_snap.h"
 #include "w_intersect.h"
+#include "w_msgpanel.h"
+#include "f_util.h"
 #include "u_quartic.h"
 #include <math.h>
 #include <complex.h>
diff -ur xfig.3.2.5/w_intersect.h xfig.3.2.5.new/w_intersect.h
--- xfig.3.2.5/w_intersect.h	2004-09-28 05:05:03.000000000 +0200
+++ xfig.3.2.5.new/w_intersect.h	2008-04-03 19:15:44.000000000 +0200
@@ -59,4 +59,6 @@
 
 extern F_line * build_text_bounding_box(F_text * t);
 
+extern void delete_text_bounding_box(F_line * l);
+
 #endif
diff -ur xfig.3.2.5/w_keyboard.c xfig.3.2.5.new/w_keyboard.c
--- xfig.3.2.5/w_keyboard.c	2004-11-09 22:10:22.000000000 +0100
+++ xfig.3.2.5.new/w_keyboard.c	2008-04-03 19:24:23.000000000 +0200
@@ -31,7 +31,9 @@
 #include "w_setup.h"
 #include "w_indpanel.h"
 #include "w_util.h"
+#include "w_msgpanel.h"
 #include "w_keyboard.h"
+#include "f_util.h"
 
 #if defined(__CYGWIN__)
 #define REG_NOERROR REG_OKAY
diff -ur xfig.3.2.5/w_snap.c xfig.3.2.5.new/w_snap.c
--- xfig.3.2.5/w_snap.c	2004-09-29 23:52:16.000000000 +0200
+++ xfig.3.2.5.new/w_snap.c	2008-04-03 19:16:37.000000000 +0200
@@ -27,7 +27,10 @@
 #include "w_setup.h"
 #include "w_indpanel.h"
 #include "w_util.h"
+#include "w_msgpanel.h"
 #include "u_quartic.h"
+#include "u_search.h"
+#include "f_util.h"
 #include <math.h>
 #include <alloca.h>
 
@@ -850,6 +853,12 @@
 }
 
 
+#ifdef signbit
+#undef signbit
+#endif
+#define signbit(x) \
+    ((0.0 >  (x)) ? 1 : 0)
+
 Boolean
 is_point_on_arc(a, x, y)
      F_arc * a;
diff -ur xfig.3.2.5/w_snap.h xfig.3.2.5.new/w_snap.h
--- xfig.3.2.5/w_snap.h	2004-11-09 22:14:42.000000000 +0100
+++ xfig.3.2.5.new/w_snap.h	2008-04-03 19:15:49.000000000 +0200
@@ -63,8 +63,4 @@
 extern Widget snap_indicator_panel;  
 extern Widget snap_indicator_label;
 
-#  define signbit(x) \
-    ((0.0 >  (x)) ? 1 : 0)
-
-
 #endif
diff -up xfig.3.2.5/u_draw.c~ xfig.3.2.5/u_draw.c
--- xfig.3.2.5/u_draw.c~	2008-04-03 15:58:23.000000000 +0200
+++ xfig.3.2.5/u_draw.c	2008-04-03 15:58:23.000000000 +0200
@@ -43,6 +43,7 @@
 #include "w_zoom.h"
 #include "u_redraw.h"
 #include "w_cursor.h"
+#include <X11/ImUtil.h>
 
 static Boolean add_point(int x, int y);
 static void init_point_array(void);
