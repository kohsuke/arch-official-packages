# $Id$
# Maintainer: Tom Gundersen <teg@jklm.no>
# Contributor: Thomas BÃ¤chler <thomas@archlinux.org>
# Contributor: Aaron Griffin <aaron@archlinux.org>

pkgname=initscripts
pkgver=2012.06.3
pkgrel=2
pkgdesc="System initialization/bootup scripts"
arch=('any')
url="http://www.archlinux.org"
license=('GPL2')
groups=('base')
backup=(etc/inittab etc/rc.conf etc/rc.local etc/rc.local.shutdown etc/conf.d/wireless)
depends=('glibc' 'bash' 'coreutils' 'systemd-tools' 'iproute2' 'ncurses' 'findutils' 'sysvinit')
optdepends=('bridge-utils: Network bridging support'
            'dhcpcd: DHCP network configuration'
            'net-tools: legacy network support'
            'wireless_tools: Wireless networking')
makedepends=(asciidoc)
install=initscripts.install
source=("ftp://ftp.archlinux.org/other/initscripts/${pkgname}-${pkgver}.tar.xz"
        0001-remove-run-nologin-before-leaving-rc.multi.patch
        'wireless.conf.d')

build() {
  cd ${srcdir}/${pkgname}-${pkgver}
  patch -Np1 <"$srcdir/0001-remove-run-nologin-before-leaving-rc.multi.patch"
}

package() {
  cd ${srcdir}/${pkgname}-${pkgver}
  make DESTDIR=${pkgdir} install
  install -D -m644 ${srcdir}/wireless.conf.d ${pkgdir}/etc/conf.d/wireless
}
md5sums=('34493c768b587ac59c6ee7e14f275c1d'
         'ba32b9d723c20b38487669fb3c00d3d5'
         '027576534885b8d5dded9be546057b12')
