--- xfig.3.2.5/w_setup.c.dist	2008-12-08 01:35:22.000000000 -0500
+++ xfig.3.2.5/w_setup.c	2008-12-08 01:36:31.000000000 -0500
@@ -23,7 +23,7 @@
 #include "w_setup.h"
 #include "w_util.h"
 
-#define	NUM_DRAW_SW 17 /* kludge - shouldn't have to edit this by hand */
+#define NUM_DRAW_SW 15 /* kludge - number of switches above draw line*/
 
 int		TOOL_WD, TOOL_HT;
 int		CMDFORM_WD, CMDFORM_HT = CMD_BUT_HT;
@@ -94,8 +94,10 @@
 
     /* space for both modepanel titles (Drawing modes and Editing modes) */
     MODEPANEL_SPACE = 1 + CANVAS_HT + RULER_WD - 
-	(MODE_SW_HT + INTERNAL_BW) * (ceil((double)NUM_DRAW_SW/SW_PER_ROW) +
-			ceil((double)(NUM_MODE_SW-NUM_DRAW_SW)/SW_PER_ROW));
+      (MODE_SW_HT + INTERNAL_BW) * 
+      (ceil(((double)NUM_DRAW_SW+1)/SW_PER_ROW) +
+       ceil(((double)NUM_MODE_SW-NUM_DRAW_SW)/SW_PER_ROW));
+
     if (MODEPANEL_SPACE < 2)
 	MODEPANEL_SPACE = 2;
 }
