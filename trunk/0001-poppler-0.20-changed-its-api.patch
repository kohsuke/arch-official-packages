From 233b2018d69effbe31b28405f5ce8d87deff149f Mon Sep 17 00:00:00 2001
From: Ionut Biru <ibiru@archlinux.org>
Date: Sun, 13 May 2012 23:57:46 +0000
Subject: [PATCH] poppler 0.20 changed its api

Modification introduced in
http://cgit.freedesktop.org/poppler/poppler/commit/?id=c0affb1845c339f89ca67608cb9fd9134ff902f5

Signed-off-by: Ionut Biru <ibiru@archlinux.org>
---
 sdext/source/pdfimport/xpdfwrapper/pdfioutdev_gpl.cxx |    4 ++++
 1 file changed, 4 insertions(+)

diff --git a/sdext/source/pdfimport/xpdfwrapper/pdfioutdev_gpl.cxx b/sdext/source/pdfimport/xpdfwrapper/pdfioutdev_gpl.cxx
index 77e5896..c9ffed3 100644
--- a/sdext/source/pdfimport/xpdfwrapper/pdfioutdev_gpl.cxx
+++ b/sdext/source/pdfimport/xpdfwrapper/pdfioutdev_gpl.cxx
@@ -407,7 +407,11 @@ int PDFOutDev::parseFont( long long nNewId, GfxFont* gfxFont, GfxState* state )
 
     GooString* pFamily = gfxFont->getName();
     if( ! pFamily )
+#if POPPLER_CHECK_VERSION(0, 20, 0)
+        pFamily = gfxFont->getName();
+#else
         pFamily = gfxFont->getOrigName();
+#endif
     if( pFamily )
     {
         aNewFont.familyName.clear();
-- 
1.7.10.1

