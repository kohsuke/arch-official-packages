# $Id$
# Maintainer: Aaron Griffin <aaron@archlinux.org>
# Contributor: Dieter Plaetinck <dieter@plaetinck.be>

pkgname=aif
pkgver=2009.01
pkgrel=1
pkgdesc="The ArchLinux Installation Framework"
arch=('i686' 'x86_64')
url="http://projects.archlinux.org/?p=aif.git;a=summary"
license=('GPL3')
depends=('bash' 'pacman')
source=(http://ftp.archlinux.org/other/aif/aif-$pkgver.tar.gz)
md5sums=('6d391acb60acb9543efe87b2a9cb7943')

build() {

  cd $srcdir/aif-$pkgver/
  
  sed -i "s|^RUNTIME_DIR=.*|RUNTIME_DIR=/usr/share/aif/runtime/|" src/aif.sh
  sed -i "s|^LOGFILE=.*|LOGFILE=/var/log/aif.log|" src/aif.sh
  install -D -m755 src/aif.sh  $pkgdir/arch/aif

  mkdir -p $pkgdir/usr/share/aif/docs
  cp -r HOWTO README $pkgdir/usr/share/aif/docs
  cp -r src/{core,user,runtime}     $pkgdir/usr/share/aif/
  find $pkgdir/usr/share/aif -type f -exec chmod 644 {} \;
}

# vim:set ts=2 sw=2 et:

