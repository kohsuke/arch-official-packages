# $Id$
# Maintainer: Thomas BÃ¤chler <thomas@archlinux.org>

pkgname=amd-ucode
_realver=2012-01-17
pkgver=${_realver//-/\.}
pkgrel=3
pkgdesc="Microcode update files for AMD family 10h, 11h, 14h and 15h CPUs"
arch=('any')
license=('custom')
url="http://www.amd64.org/support/microcode.html"
install=${pkgname}.install
source=(http://www.amd64.org/pub/microcode/amd-ucode-${_realver}.tar
        http://www.amd64.org/pub/microcode/amd-ucode-${_realver}.tar.asc)
sha256sums=('87589ad8e61532c2e0f7f418cd452aec9188964dce2f460eba66c379905e1657'
            'c4e15129f943178fe136a3a54134dc89e50081e8e70088a4bc315157111aecdf')

package() {
  cd "${srcdir}"/${pkgname}-${_realver}
  install -D -m644 microcode_amd.bin "${pkgdir}"/usr/lib/firmware/amd-ucode/microcode_amd.bin
  install -D -m644 microcode_amd_fam15h.bin "${pkgdir}"/usr/lib/firmware/amd-ucode/microcode_amd_fam15h.bin
  install -D -m644 LICENSE "${pkgdir}"/usr/share/licenses/${pkgname}/LICENSE
}
